<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/styles.css">

    <title>Map application</title>
</head>
<body>
    <div class="container">
        <div class="filter">
            <div class="filter__toggle" data-status="show">
                <span class="letter">H</span>
                <span class="letter">i</span>
                <span class="letter">d</span>
                <span class="letter">e</span>
            </div>

            <div class="filter__wrap">
                <div class="filter__header">
                    <div class="filter__header__search">
                        <div class="filter__header__inner">
                            <input type="text" class="search-field" placeholder="Поиск" />
                            <span class="fas fa-search find-icon js-find"></span>
                            <span class="fas fa-times clear-icon js-clear"></span>
                        </div>
                    </div>
                </div>
                <div class="filter__result">
                    <ul class="filter__result__list" id="resultList">
                        <li class="filter__result__item">
                            <h3 class="title">Киевская городская клиническая больница №17</h3>
                            <p class="info">Открыто:&nbsp;<span class="value">08:00–20:00</span>,&nbsp; <span class="type hospital">Больница</span></p>
                            <p class="address">14, вул. Кутузова, Киев, 02000</p>
                        </li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="map" id="map">

        </div>

    </div>
    <script>

        document.addEventListener('DOMContentLoaded', function () {


            const resultList = document.getElementById('resultList');
            const resultListFragment = document.createDocumentFragment();
            const resultItem = resultList.getElementsByClassName('filter__result__item')[0];

            let cloneItem;

            for(let i = 10; i > 0; i--){
                cloneItem = resultItem.cloneNode(true);
                resultListFragment.appendChild(cloneItem);
            }

            /*console.log('resultItem: ', resultItem);
            console.log(resultListFragment);*/
            resultList.appendChild(resultListFragment);

        });


        function initMap() {

            let marker;

            const options = {
                center: {lat: 54.967567, lng: -1.605804}, //{lat: -34.397, lng: 150.644}
                zoom: 13,
            };

            //console.log(marker);
            const map = new google.maps.Map(document.getElementById('map'), options);

            const locations = [
                {
                    title: 'Legalizuem.ru Head Office',
                    position: {lat: 55.77186, lng: 37.593437999999999},
                    /*icon: {
                        url: "images/markers/svg/Arrow_3.svg",
                        scaledSize: new google.maps.Size(64, 64)
                    }*/
                },
            ];

            locations.forEach( function( element ) {
                marker = new google.maps.Marker({
                    position: element.position,
                    map: map,
                    title: element.title,
                    icon: element.icon,
                });
            });



        }

    </script>

    <script async defer src="//maps.googleapis.com/maps/api/js?key=AIzaSyBeVoPDyYZyUq-h735KGeK4OA9-BEuecBg&callback=initMap"></script>
</body>
</html>